{% extends "sidebar.html" %}
{% block content %}
<html>
    <head>
        <title>Deleted Records Archive</title>
    </head>

    <style>
        body{
            font-family: "Arial", sans-serif;
        }

    </style>

    <body>
        <br>
        <h4><center><b>Deleted Records Archive</b></center></h4>
        <br><br><br>

        <!--Prompt alert message-->
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>NRIC / Passport</th>
                    <th>DOB</th>
                    <th>Age</th>
                </tr>
            </thead>
            <tbody>
                {% for patient in patients %}
                <tr>
                    <td>{{ patient.fullname }}</td>
                    <td>{{ patient.nric_passport }}</td>
                    <td>{{ patient.dob|date:"d-m-Y" }}</td>
                    <td>{{ patient.age }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </body>

    <script>

        // Function to hide the success message after a delay
        function hideSuccessMessage() {
            var successMessage = document.querySelector(".alert-success");
            if (successMessage) {
                setTimeout(function() {
                    successMessage.style.display = "none";
                }, 1500); 
            }
        }
        // Call the hideSuccessMessage function when the page loads
        window.onload = hideSuccessMessage;

    </script>
</html>

{% endblock %}